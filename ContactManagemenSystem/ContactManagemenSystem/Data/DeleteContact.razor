@page "/DeleteContact/{currId}"
@using ContactManagemenSystem.Data
@inject ContactService contactService
@inject NavigationManager navigationManager

<h3>Are you sure you want to delete this contact?</h3>
<hr />

<table class="table" style="background-color:lightgray">
    <thead style="text-align: center; margin:auto">
        <tr>
            <th>Contact Id</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Phone Number</th>
            <th>Birth Date</th>
        </tr>
    </thead>
    <tbody style="text-align: center; margin:auto">
            <tr>
                <td style="vertical-align: middle">@contact.Id</td>
                <td style="vertical-align: middle">@contact.FirstName</td>
                <td style="vertical-align: middle">@contact.LastName</td>
                <td style="vertical-align: middle">@contact.PhoneNumber</td>
                <td style="vertical-align: middle">@contact.BirthDate</td>
            </tr>
    </tbody>
</table>



<div class="row">
    <div class="col-md-4">
        <div class="form-group">
            <input type="button" class="btn btn-danger" @onclick="deleteContact" value="Yes, Delete" />
            <input type="button" class="btn btn-primary" @onclick="nevermind" value="Nevermind" />
        </div>
    </div>
</div>

@code {
    [Parameter]
    public string currId { get; set; }

    Contact contact = new Contact();

    protected override async Task OnInitializedAsync()
    {
        contact = await Task.Run(() => contactService.getContact(Convert.ToInt32(currId)));
    }

    protected void deleteContact()
    {
        contactService.DeleteContact(contact);
        navigationManager.NavigateTo("ContactPage");
    }
    void nevermind()
    {
        navigationManager.NavigateTo("ContactPage");
    }
}
